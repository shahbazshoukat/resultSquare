<div class="row justify-content-center border-5 mt-100 custom-comments">
  <div class="mt-100 bg-secondary border-5" style="width: 100%; padding: 0px 20px;">
    <h1>Comments</h1>
    <div>
      <form (submit)="addComment(commentForm)" #commentForm = "ngForm">
        <div class="row media align-items-center">
          <div class="col-lg-6 col-sm-12 mt-3">
            <div class="WP100">
              <input (input)="validateCommentName($event)" ngModel name="commentName" class="form-control form-control-alternative input-comment" placeholder="Enter your name">
              <span class="text-sm text-danger">{{commentNameErrorMsg}}</span>
            </div>
          </div>
          <div class="col-lg-6 col-sm-12 mt-3">
            <div class="WP100">
              <input (input)="validateCommentEmail($event)" ngModel name="commentEmail" class="form-control form-control-alternative input-comment" placeholder="Enter your email address">
              <span class="text-sm text-danger">{{commentEmailErrorMsg}}</span>
            </div>
          </div>
        </div>
        <div class="row media align-items-center">
          <div class="col-lg-12 col-sm-12 mt-3">
            <div class="WP100">
              <textarea (input)="validateCommentText($event)" ngModel name="commentText" class="form-control form-control-alternative input-comment" rows="3" placeholder="Write your comment"></textarea>
              <span class="text-sm text-danger">{{commentTextErrorMsg}}</span>
            </div>
          </div>
        </div>
        <div class="col-lg-12 mt-3 d-block text-right">
          <button class="btn btn-success submit-comment-btn"
                  [ngClass]="{'disabled': addingComment || !isValidCommentName || !isValidCommentEmail || !isValidCommentText}"
                  type="submit" >Submit Comment</button>
        </div>
      </form>
    </div>

    <div class="mt-5" *ngIf="comments">
      <div class="media mt-4" *ngFor="let comment of comments">
        <div class="icon icon-sm icon-shape bg-default text-white rounded-circle shadow">
          <span>{{comment?.name?.charAt(0)?.toUpperCase()}}</span>
        </div>
        <div class="media-body ml-2">
          <div class="card card-stats mb-4 mb-lg-0 shadow--hover comment-card">
            <div class="card-body comment-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-success mb-0">{{comment?.name}}&nbsp;(<span class="text-lowercase text-sm">{{comment?.email}}</span>)</h5>
                  <span class="mb-0">{{comment?.text}}</span>
                </div>
                <div class="col-auto">
                  <span class="text-sm" >{{comment?.createdAt | date: "mediumDate"}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

</div>
