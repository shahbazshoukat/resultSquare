!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("ngx-lottie",["exports","@angular/core","@angular/common","rxjs","rxjs/operators","@angular/platform-browser"],e):e((t=t||self)["ngx-lottie"]={},t.ng.core,t.ng.common,t.rxjs,t.rxjs.operators,t.ng.platformBrowser)}(this,(function(t,e,n,r,o,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function c(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function u(t){return"animation-"+t.split(".json")[0]}function l(){try{var t=navigator.vendor,e=navigator.userAgent;return t.indexOf("Apple")>-1&&-1===e.indexOf("CriOS")&&-1===e.indexOf("FxiOS")}catch(t){return!1}}var d=new e.InjectionToken("IsSafari"),y=new e.InjectionToken("LottieOptions"),f=new e.InjectionToken("AnimationCache"),h=function(){function t(t,e,n,i,a,s){var c,p;this.ngZone=t,this.platformId=e,this.document=n,this.isSafari=i,this.options=a,this.animationCache=s,this.player$=(c=this.options.player,(p=c())instanceof Promise?r.from(p).pipe(o.map((function(t){return t.default||t})),o.catchError((function(t){return console.error('\n          Could not retrieve the "lottie-web" player, did you provide\n          the "player" property correctly?\n          export function playerFactory() {\n            return import(\'lottie-web\');\n          }\n          LottieModule.forRoot({ player: playerFactory })\n        '),r.throwError(t)})),o.shareReplay(1)):r.of(p))}return t.prototype.resolveLoaderAndLoadAnimation=function(t,e,r,i,a,s){var c=this;n.isPlatformServer(this.platformId)||this.player$.pipe(o.takeUntil(s)).subscribe((function(n){var o=function(t,e,n){var r=Object.assign({container:e,renderer:"svg",loop:!0,autoplay:!0},t);return null!==n?n.transformOptions(r):r}(t,e,c.animationCache);c.loadAnimation(n,o,r,i,a)}))},t.prototype.loadAnimation=function(t,e,n,r,o){!function(t,e,n){n&&t.setLocationHref(e)}(t,this.document.location.href,this.isSafari);var i=this.ngZone.runOutsideAngular((function(){return t.loadAnimation(e)}));!function(t,e,n){null!==t&&n.addEventListener("config_ready",(function(){t.set(e,n)}))}(this.animationCache,e,i),r.emit(i),n.addEventListeners(o,i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:e.NgZone},{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:Document,decorators:[{type:e.Inject,args:[n.DOCUMENT]}]},{type:Boolean,decorators:[{type:e.Inject,args:[d]}]},{type:void 0,decorators:[{type:e.Inject,args:[y]}]},{type:void 0,decorators:[{type:e.Inject,args:[f]}]}]},t}();var m=function(){function t(t,n){this.platformId=t,this.animationLoader=n,this.options=null,this.containerClass=null,this.styles=null,this.width=null,this.height=null,this.animationCreated=new e.EventEmitter,this.complete=new e.EventEmitter,this.loopComplete=new e.EventEmitter,this.enterFrame=new e.EventEmitter,this.segmentStart=new e.EventEmitter,this.configReady=new e.EventEmitter,this.dataReady=new e.EventEmitter,this.domLoaded=new e.EventEmitter,this.destroy=new e.EventEmitter,this.error=new e.EventEmitter,this.destroy$=new r.Subject}return t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.setWidthAndHeight=function(){this.width=this.width||"100%",this.height=this.height||"100%"},t.prototype.loadAnimation=function(t,e,r){n.isPlatformServer(this.platformId)||this.animationLoader.resolveLoaderAndLoadAnimation(this.options,t,e,this.animationCreated,r,this.destroy$)},t.decorators=[{type:e.Directive,args:[{selector:"[lottie]"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:h}]},t.propDecorators={options:[{type:e.Input}],containerClass:[{type:e.Input}],styles:[{type:e.Input}],width:[{type:e.Input}],height:[{type:e.Input}],animationCreated:[{type:e.Output}],complete:[{type:e.Output}],loopComplete:[{type:e.Output}],enterFrame:[{type:e.Output}],segmentStart:[{type:e.Output}],configReady:[{type:e.Output}],dataReady:[{type:e.Output}],domLoaded:[{type:e.Output}],destroy:[{type:e.Output}],error:[{type:e.Output}]},t}();var v=function(){function t(){this.cache=new Map}return t.create=function(e){return e.useCache?new t:null},t.prototype.transformOptions=function(t){var e=t.path;return e&&this.cache.has(e)&&(delete t.path,t.animationData=this.cache.get(e)),t},t.prototype.set=function(t,e){if(!function(t){var e=t.animationData;return null!==e&&"object"==typeof e}(t)){var n=e.animationData;this.cache.set(t.path,n)}},t}();var g=function(){function t(t,e){this.ngZone=t,this.platformId=e,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}return t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.addEventListeners=function(t,e){var n=this;this.animationItem=e,this.ngZone.runOutsideAngular((function(){return n.addEventListenersToObservedEventEmitters(t)}))},t.prototype.dispose=function(){n.isPlatformServer(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)},t.prototype.addEventListenersToObservedEventEmitters=function(t){var n,r,o=function(t,n){return Object.keys(t).map((function(e){return[e,t[e]]})).filter((function(t){var r=p(t,2),o=r[0],i=r[1];return i instanceof e.EventEmitter&&i.observers.length>0&&n.hasOwnProperty(o)})).map((function(t){var e=p(t,2),r=e[0];return{eventEmitter:e[1],name:n[r]}}))}(t,this.eventsMap),i=function(t,e){a.animationItem.addEventListener(t,(function(t){e.emit(t)}))},a=this;try{for(var s=c(o),u=s.next();!u.done;u=s.next()){var l=u.value;i(l.name,l.eventEmitter)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:e.NgZone},{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t}();var I=function(t){function n(e,n,r,o){var i=t.call(this,e,o)||this;return i.host=n,i.eventsFacade=r,i}return s(n,t),n.prototype.ngOnInit=function(){t.prototype.loadAnimation.call(this,this.host.nativeElement,this.eventsFacade,this)},n.decorators=[{type:e.Directive,args:[{selector:"[lottie]",providers:[g]}]}],n.ctorParameters=function(){return[{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:e.ElementRef,decorators:[{type:e.Self}]},{type:g,decorators:[{type:e.Self}]},{type:h}]},n}(m);var O=function(t){function n(e,n,r,o){var i=t.call(this,n,o)||this;return i.renderer=e,i.eventsFacade=r,i.container=null,i}return s(n,t),n.prototype.ngOnChanges=function(t){var e=t.containerClass;void 0!==e&&"string"==typeof e.currentValue&&this.renderer.addClass(this.container.nativeElement,e.currentValue)},n.prototype.ngOnInit=function(){t.prototype.setWidthAndHeight.call(this),t.prototype.loadAnimation.call(this,this.container.nativeElement,this.eventsFacade,this)},n.decorators=[{type:e.Component,args:[{selector:"ng-lottie",template:'\n    <div #container [style.width]="width" [style.height]="height" [ngStyle]="styles"></div>\n  ',changeDetection:e.ChangeDetectionStrategy.OnPush,providers:[g]}]}],n.ctorParameters=function(){return[{type:e.Renderer2},{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:g,decorators:[{type:e.Self}]},{type:h}]},n.propDecorators={container:[{type:e.ViewChild,args:["container",{static:!0}]}]},n}(m);var E=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[h,{provide:y,useValue:e},{provide:d,useFactory:l},{provide:f,useFactory:v.create,deps:[y]}]}},t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[m,I,O],exports:[m,I,O]}]}],t}(),w=function(){function t(t){this.transferState=t}return t.prototype.get=function(t){var e=u(t),n=i.makeStateKey(e);return this.transferState.get(n,null)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:i.TransferState}]},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(i.TransferState))},token:t,providedIn:"root"}),t}();t.BaseDirective=m,t.LottieComponent=O,t.LottieDirective=I,t.LottieModule=E,t.LottieTransferState=w,t.transformAnimationFilenameToKey=u,t.ɵb=d,t.ɵc=y,t.ɵd=f,t.ɵe=l,t.ɵf=h,t.ɵg=v,t.ɵh=g,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-lottie.umd.min.js.map